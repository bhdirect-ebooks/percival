const sortBy = require('lodash.sortby')


const books = [
  {
    osis: ['Gen'],
    regexp: /\bG(?:n|e(?:n(?:sis|i(?:s[ieu]s|[ei]s(?:[ieu]s))|e(?:s(?:[ie]s?|us)|es[iue]s|is(?:[ieu]s)?)|n(?:sis|i(?:s[iue]s|[ei]s(?:[eiu]s))|e(?:es[ieu]s|is(?:[uie]s)?|s[ieu]s)))?)?)\b/
  },
  {
    osis: ['Exod'],
    regexp: /\bEx(?:d|o(?:d(?:[ui]s|[es])?)?)?\b/
  },
  {
    osis: ['Lev'],
    regexp: /\bL(?:v|iv[ie]t(?:(?:[ie]cus|cus))|e(?:v(?:i(?:t(?:[ie]cus|cus))?|et(?:[ie]cus|cus))?)?)\b/
  },
  {
    osis: ['Num'],
    regexp: /\bN(?:m|u(?:m(?:b(?:ers?)?)?)?)\b/
  },
  {
    osis: ['Deut'],
    regexp: /\bD(?:t|u(?:et(?:(?:[eo]ron(?:omy|my))|ron(?:my|omy))?|ut(?:(?:[eo]ron(?:omy|my))|ron(?:omy|my)))|e(?:u(?:t(?:(?:[eo]ron(?:omy|my))|ron(?:omy|my))?)?|et(?:(?:[oe]ron(?:omy|my))|ron(?:my|omy))))\b/
  },
  {
    osis: ['Josh'],
    regexp: /\bJ(?:sh|o(?:s(?:h(?:ua)?|ua)?|us(?:hua|ua)))\b/
  },
  {
    osis: ['Judg'],
    regexp: /\bJ(?:udg(?:es)?|gs?|dgs?)\b/
  },
  {
    osis: ['Ruth'],
    regexp: /\bR(?:th|u(?:th?)?)\b/
  },
  {
    osis: ['1Sam'],
    regexp: /\b(?:Samu[ae]l[ls]?|1(?:st (?:S(?:ma?|a(?:m(?:u[ea]l[sl]?)?)?)|Kingdoms)| (?:S(?:ma?|a(?:m(?:u[ea]l[sl]?)?)?)?|Kingdoms))|I (?:S(?:ma?|a(?:m(?:u[ea]l[sl]?)?)?)|Kingdoms)|First (?:S(?:ma?|a(?:m(?:u[ea]l[sl]?)?)?)|Kingdoms))\b/
  },
  {
    osis: ['2Sam'],
    regexp: /\b(?:2(?:nd (?:Kingdoms|S(?:ma?|a(?:m(?:u[ea]l[sl]?)?)?))| (?:Kingdoms|S(?:ma?|a(?:m(?:u[ea]l[sl]?)?)?)?))|II (?:Kingdoms|S(?:ma?|a(?:m(?:u[ea]l[sl]?)?)?))|Second (?:Kingdoms|S(?:ma?|a(?:m(?:u[ea]l[sl]?)?)?)))\b/
  },
  {
    osis: ['1Kgs'],
    regexp: /\b(?:K(?:in(?:gs)?|gs|ngs)|3(?:rd Kingdoms| Kingdoms)|Third Kingdoms|1(?:st K(?:gs?|i(?:n(?:gs?|s)?|gs?)?|s|n(?:gs?|s)?)?| K(?:gs?|i(?:n(?:gs?|s)?|gs?)?|s|n(?:gs?|s)?)?)|I(?:II Kingdoms| K(?:gs?|i(?:n(?:gs?|s)?|gs?)?|s|n(?:gs?|s)?)?)|First K(?:gs?|i(?:n(?:gs?|s)?|gs?)?|s|n(?:gs?|s)?)?)\b/
  },
  {
    osis: ['2Kgs'],
    regexp: /\b(?:4(?:th Kingdoms| Kingdoms)|Fourth Kingdoms|2(?:nd K(?:gs?|s|i(?:n(?:gs?|s)?|s|gs?)?|n(?:gs?|s)?)?| K(?:gs?|s|i(?:n(?:gs?|s)?|s|gs?)?|n(?:gs?|s)?)?)|I(?:V Kingdoms|I K(?:gs?|s|i(?:n(?:gs?|s)?|s|gs?)?|n(?:gs?|s)?)?)|Second K(?:gs?|s|i(?:n(?:gs?|s)?|s|gs?)?|n(?:gs?|s)?)?)\b/
  },
  {
    osis: ['1Chr'],
    regexp: /\b(?:Paralipomenon|1(?:st (?:Paralipomenon|C(?:ron(?:[oi]cles?)?|h(?:r(?:n|o(?:n(?:ic(?:les?|als)|ocles?)?)?)?|oron(?:icles|ocles?))|oron[io]cles?))| (?:Paralipomenon|C(?:ron(?:[oi]cles?)?|h(?:r(?:n|o(?:n(?:ic(?:les?|als)|ocles?)?)?)?|oron(?:icles|ocles?))?|oron[io]cles?)))|I (?:Paralipomenon|C(?:ron(?:[oi]cles?)?|h(?:r(?:n|o(?:n(?:ic(?:les?|als)|ocles?)?)?)?|oron(?:icles|ocles?))|oron[io]cles?))|First (?:Paralipomenon|C(?:ron(?:[oi]cles?)?|h(?:r(?:n|o(?:n(?:ic(?:les?|als)|ocles?)?)?)?|oron(?:icles|ocles?))|oron[io]cles?))|C(?:h(?:ron(?:ic(?:les?|als)|ocles?)|oron[io]cles?)|oron[oi]cles?|ron[io]cles?))\b/
  },
  {
    osis: ['2Chr'],
    regexp: /\b(?:2(?:nd (?:Paralipomenon|C(?:h(?:r(?:n|o(?:n(?:ic(?:les?|als)|ocles?)?)?)?|oron[oi]cles?)|oron[io]cles?|ron(?:[io]cles?)?))| (?:Paralipomenon|C(?:h(?:r(?:n|o(?:n(?:ic(?:les?|als)|ocles?)?)?)?|oron[oi]cles?)?|oron[io]cles?|ron(?:[io]cles?)?)))|II (?:Paralipomenon|C(?:h(?:r(?:n|o(?:n(?:ic(?:les?|als)|ocles?)?)?)?|oron[oi]cles?)|oron[io]cles?|ron(?:[io]cles?)?))|Second (?:Paralipomenon|C(?:h(?:r(?:n|o(?:n(?:ic(?:les?|als)|ocles?)?)?)?|oron[oi]cles?)|oron[io]cles?|ron(?:[io]cles?)?)))\b/
  },
  {
    osis: ['Ezra'],
    regexp: /\bE(?:zra?|sra)\b/
  },
  {
    osis: ['Neh'],
    regexp: /\bNe(?:h(?:(?:[ei]m(?:a(?:h|(?:[ia](?:h|[ai]h)))|i(?:h|i(?:[ia]h|h)|a(?:h|[ai]h)?)))|amiah?)?)?\b/
  },
  {
    osis: ['Esth'],
    regexp: /\bEs(?:t(?:h(?:er|r)?|er)?)?\b/
  },
  {
    osis: ['Job'],
    regexp: /\bJ(?:ob|b)\b/
  },
  {
    osis: ['Ps'],
    regexp: /\b(?:P(?:l(?:ms|s(?:a(?:ms?)?|ms?|s(?:s(?:ss?)?)?)|a(?:s(?:m(?:s|as?)?|s)?|m(?:s|as)?|as?))|a(?:l(?:[ml]s|sms?)|m[ls]s|s(?:lms?|m(?:ls|s)|ss))|s(?:l(?:a(?:ms?|lms?)?|m(?:[sm]|as)?)|sm?|a(?:a(?:lms?|a|ms)|m(?:s|as|ms?|l(?:[sa]|ms?)?)?|l(?:s|lms?|a(?:ms?|s)?|m(?:s|[aml]s?)?)?)?|m(?:ls?|a(?:l(?:s|ms?)?)?|m)?)?)|Salms?)\b/
  },
  {
    osis: ['Prov'],
    regexp: /\b(?:Oroverbs|P(?:v|o(?:verbs|rverbs)|r(?:o(?:v(?:e(?:rbs?|bs))?|b(?:erbs|verbs))?|v(?:bs?|erbs?)?|everbs?)?))\b/
  },
  {
    osis: ['Eccl'],
    regexp: /\b(?:Ec(?:l(?:es(?:sia(?:stes|tes)|i(?:stes|a(?:tes|stes?|iastes))))?|c(?:l(?:es(?:i(?:stes|iastes|a(?:i(?:stes|astes)|tes?|st(?:ies|es?)?|a(?:stes|tes))|tes)|s(?:ia(?:stes|tes)|aistes)|a(?:stes|i(?:stes|astes|tes)))?)?)?)?|Qo(?:h(?:eleth)?)?)\b/
  },
  {
    osis: ['Song'],
    regexp: /\b(?:S(?:S|gs?| of S|ngs?|o(?:[Sl]|n(?:g(?: of S(?:o(?:ngs?|lom[oa]ns?)|alom[oa]ns?)|s(?: of S(?:o(?:ngs?|lom[oa]ns?)|alom[oa]ns?))?)?)?)?)|The Song(?: of S(?:o(?:ngs?|lom[oa]ns?)|alom[oa]ns?)|s of S(?:o(?:ngs?|lom[oa]ns?)|alom[oa]ns?)))\b/
  },
  {
    osis: ['Isa'],
    regexp: /\bI(?:a|s(?:sah|a(?:ha?|a(?:[ai](?:(?:[ai]ha?|ha?))|ha?)|i(?:ha?|sha?|[ia](?:(?:[ai]ha?|ha?)))?)?|i(?:ha|(?:[ai](?:ha?|[ia](?:(?:[ia]ha?|ha?)))))))\b/
  },
  {
    osis: ['Jer'],
    regexp: /\bJ(?:r|e(?:r(?:im(?:ah|i(?:[ai]h|h))|m[im]ah|e(?:m(?:a(?:i(?:h|ah)|h)|i(?:ah?|e|ha?|ih)?))?|a(?:m(?:a(?:h|ih)|i(?:ah?|ha?|ih))|iah))?)?)\b/
  },
  {
    osis: ['Lam'],
    regexp: /\bL(?:m|a(?:m(?:[ei]ntations?)?)?)\b/
  },
  {
    osis: ['Ezek'],
    regexp: /\bE(?:x(?:[ie](?:k(?:iel|el)|(?:[ei]k(?:iel|el))))|z(?:k|e(?:k(?:i[ea]l|el)?|(?:[ie]k(?:el|iel)))?|i(?:(?:[ei]k(?:iel|el))|k(?:iel|el))))\b/
  },
  {
    osis: ['Dan'],
    regexp: /\bD(?:a(?:n(?:i[ae]l)?)?|[ln])\b/
  },
  {
    osis: ['Hos'],
    regexp: /\bH(?:o(?:s(?:ea)?)?|s)\b/
  },
  {
    osis: ['Joel'],
    regexp: /\bJ(?:oel?|l)\b/
  },
  {
    osis: ['Amos'],
    regexp: /\bAm(?:os?|s)\b/
  },
  {
    osis: ['Obad'],
    regexp: /\bOb(?:a(?:d(?:iah?)?)?|d|idah)?\b/
  },
  {
    osis: ['Jonah'],
    regexp: /\bJ(?:on(?:ah)?|nh)\b/
  },
  {
    osis: ['Mic'],
    regexp: /\bMi(?:c(?:ah?|hah?)?)?\b/
  },
  {
    osis: ['Nah'],
    regexp: /\bNa(?:h(?:um?)?)?\b/
  },
  {
    osis: ['Hab'],
    regexp: /\bHab(?:k|b?akk?[au]kk?)?\b/
  },
  {
    osis: ['Zeph'],
    regexp: /\bZ(?:ph?|e(?:p(?:h(?:an(?:iah?|aiah?))?)?|faniah?)|a(?:phaniah?|faniah?))\b/
  },
  {
    osis: ['Hag'],
    regexp: /\bH(?:gg?|ag(?:ai|g(?:ai|ia[ih]))?)\b/
  },
  {
    osis: ['Zech'],
    regexp: /\bZ(?:ch?|e(?:c(?:h(?:ar(?:a(?:ih|h)|i(?:ah?|h))|er(?:a(?:ih|h)|i[ah]))?)?|kariah?)|a(?:c(?:h(?:[ea]r(?:a(?:ih|h)|i(?:ah?|h)))?)?|kariah))\b/
  },
  {
    osis: ['Mal'],
    regexp: /\bMal(?:ichi|ac(?:hi?|i))?\b/
  },
  {
    osis: ['Matt'],
    regexp: /\bM(?:tt?|at(?:h(?:ew|iew|(?:[ht](?:ew|iew|(?:[th](?:ew|iew)))))|t(?:ew|we|iew|h(?:ew|we|iew|(?:[ht](?:ew|iew)))|t(?:ew|iew|h(?:ew|iew)))?)?)\b/
  },
  {
    osis: ['Mark'],
    regexp: /\bM(?:k|rk|ark?)\b/
  },
  {
    osis: ['Luke'],
    regexp: /\bL(?:k|u(?:ke?)?)\b/
  },
  {
    osis: ['John'],
    regexp: /\bJ(?:n|h(?:n|[ho]n)?|phn|o(?:h[nm]?|nh|phn|on))\b/
  },
  {
    osis: ['Acts'],
    regexp: /\bAc(?:ts(?: of the Apostles|ss?)?)?\b/
  },
  {
    osis: ['Rom'],
    regexp: /\bR(?:pmans|m(?:s|ns?)?|o(?:s|amns|m(?:s|a(?:sn|n(?:s|ds)?))?)?)\b/
  },
  {
    osis: ['1Cor'],
    regexp: /\b(?:1(?:st C(?:hor(?:anthians|nthians|i(?:thians|nth(?:ains|i(?:ans|ns))))|or(?:th(?:ians?)?|n(?:i(?:th(?:ians|a(?:i(?:ns|ans)|ns))|nth(?:ians|a(?:ins|ns)))|th(?:ains|i(?:ans|ns|ians)))|anthians|ri(?:nth(?:ians|ains)|th(?:ians|ains))|i(?:inthi(?:ans|ians)|th(?:a(?:ns|ins)|i(?:ans|ians|ns)|oans)|n(?:[an]thians|ith(?:i(?:ans|nas)|a(?:ns|ins))|t(?:h(?:a(?:ns|i(?:ns|ans))|o(?:ians|ans)|i(?:n(?:as|s)|ians|ons|a(?:[ai]ns|n(?:s|[ao]s)?)))?|i[ao]ns)?)?))?)| C(?:hor(?:anthians|nthians|i(?:thians|nth(?:ains|i(?:ans|ns))))|or(?:th(?:ians?)?|n(?:i(?:th(?:ians|a(?:i(?:ns|ans)|ns))|nth(?:ians|a(?:ins|ns)))|th(?:ains|i(?:ans|ns|ians)))|anthians|ri(?:nth(?:ians|ains)|th(?:ians|ains))|i(?:inthi(?:ans|ians)|th(?:a(?:ns|ins)|i(?:ans|ians|ns)|oans)|n(?:[an]thians|ith(?:i(?:ans|nas)|a(?:ns|ins))|t(?:h(?:a(?:ns|i(?:ns|ans))|o(?:ians|ans)|i(?:n(?:as|s)|ians|ons|a(?:[ai]ns|n(?:s|[ao]s)?)))?|i[ao]ns)?)?))?))|I C(?:hor(?:anthians|nthians|i(?:thians|nth(?:ains|i(?:ans|ns))))|or(?:th(?:ians?)?|n(?:i(?:th(?:ians|a(?:i(?:ns|ans)|ns))|nth(?:ians|a(?:ins|ns)))|th(?:ains|i(?:ans|ns|ians)))|anthians|ri(?:nth(?:ians|ains)|th(?:ians|ains))|i(?:inthi(?:ans|ians)|th(?:a(?:ns|ins)|i(?:ans|ians|ns)|oans)|n(?:[an]thians|ith(?:i(?:ans|nas)|a(?:ns|ins))|t(?:h(?:a(?:ns|i(?:ns|ans))|o(?:ians|ans)|i(?:n(?:as|s)|ians|ons|a(?:[ai]ns|n(?:s|[ao]s)?)))?|i[ao]ns)?)?))?)|First C(?:hor(?:anthians|nthians|i(?:thians|nth(?:ains|i(?:ans|ns))))|o(?:r(?:th(?:ians?)?|n(?:i(?:th(?:ians|a(?:i(?:ns|ans)|ns))|nth(?:ians|a(?:ins|ns)))|th(?:ains|i(?:ans|ns|ians)))|anthians|ri(?:nth(?:ians|ains)|th(?:ians|ains))|i(?:inthi(?:ans|ians)|th(?:a(?:ns|ins)|i(?:ans|ians|ns)|oans)|n(?:[an]thians|ith(?:i(?:ans|nas)|a(?:ns|ins))|t(?:h(?:a(?:ns|i(?:ns|ans))|o(?:ians|ans)|i(?:n(?:as|s)|ians|ons|a(?:[ai]ns|n(?:s|[ao]s)?)))?|i[ao]ns)?)?))?)?)|C(?:or(?:ri(?:th(?:ians|ains)|nth(?:ians|ains))|i(?:inthi(?:ans|ians)|th(?:a(?:ins|ns)|i(?:ans|ns|ians)|oans)|n(?:[an]thians|t(?:i[ao]ns|h(?:a(?:ns|i(?:ns|ans))|o(?:ans|ians)|i(?:n(?:as|s)|ons|ians|a(?:[ai]ns|n(?:s|[oa]s)?))))|ith(?:i(?:ans|nas)|a(?:ins|ns))))|n(?:th(?:ains|i(?:ans|ns|ians))|i(?:nth(?:ians|a(?:ns|ins))|th(?:ians|a(?:ns|i(?:ns|ans))))))|hor(?:anthians|nthians|i(?:thians|nth(?:ains|i(?:ans|ns))))))\b/
  },
  {
    osis: ['2Cor'],
    regexp: /\b(?:2(?:nd C(?:o(?:r(?:anthians|th(?:ians?)?|ri(?:th(?:ains|ians)|nth(?:ians|ains))|n(?:th(?:ains|i(?:ans|ns|ians))|i(?:nth(?:ians|a(?:ns|ins))|th(?:ians|a(?:ns|i(?:ns|ans)))))|i(?:th(?:a(?:ns|ins)|i(?:ans|ians|ns)|oans)|inthi(?:ans|ians)|n(?:[na]thians|t(?:i[ao]ns|h(?:a(?:ns|i(?:ns|ans))|o(?:ians|ans)|i(?:n(?:s|as)|ians|ons|a(?:n(?:s|[oa]s)?|[ia]ns)))?)?|ith(?:i(?:ans|nas)|a(?:ins|ns)))?))?)?|hor(?:anthians|nthians|i(?:thians|nth(?:ains|i(?:ans|ns)))))| C(?:o(?:r(?:anthians|th(?:ians?)?|ri(?:th(?:ains|ians)|nth(?:ians|ains))|n(?:th(?:ains|i(?:ans|ns|ians))|i(?:nth(?:ians|a(?:ns|ins))|th(?:ians|a(?:ns|i(?:ns|ans)))))|i(?:th(?:a(?:ns|ins)|i(?:ans|ians|ns)|oans)|inthi(?:ans|ians)|n(?:[na]thians|t(?:i[ao]ns|h(?:a(?:ns|i(?:ns|ans))|o(?:ians|ans)|i(?:n(?:s|as)|ians|ons|a(?:n(?:s|[oa]s)?|[ia]ns)))?)?|ith(?:i(?:ans|nas)|a(?:ins|ns)))?))?)?|hor(?:anthians|nthians|i(?:thians|nth(?:ains|i(?:ans|ns))))))|II C(?:o(?:r(?:anthians|th(?:ians?)?|ri(?:th(?:ains|ians)|nth(?:ians|ains))|n(?:th(?:ains|i(?:ans|ns|ians))|i(?:nth(?:ians|a(?:ns|ins))|th(?:ians|a(?:ns|i(?:ns|ans)))))|i(?:th(?:a(?:ns|ins)|i(?:ans|ians|ns)|oans)|inthi(?:ans|ians)|n(?:[na]thians|t(?:i[ao]ns|h(?:a(?:ns|i(?:ns|ans))|o(?:ians|ans)|i(?:n(?:s|as)|ians|ons|a(?:n(?:s|[oa]s)?|[ia]ns)))?)?|ith(?:i(?:ans|nas)|a(?:ins|ns)))?))?)?|hor(?:anthians|nthians|i(?:thians|nth(?:ains|i(?:ans|ns)))))|Second C(?:o(?:r(?:anthians|th(?:ians?)?|ri(?:th(?:ains|ians)|nth(?:ians|ains))|n(?:th(?:ains|i(?:ans|ns|ians))|i(?:nth(?:ians|a(?:ns|ins))|th(?:ians|a(?:ns|i(?:ns|ans)))))|i(?:th(?:a(?:ns|ins)|i(?:ans|ians|ns)|oans)|inthi(?:ans|ians)|n(?:[na]thians|t(?:i[ao]ns|h(?:a(?:ns|i(?:ns|ans))|o(?:ians|ans)|i(?:n(?:s|as)|ians|ons|a(?:n(?:s|[oa]s)?|[ia]ns)))?)?|ith(?:i(?:ans|nas)|a(?:ins|ns)))?))?)?|hor(?:anthians|nthians|i(?:thians|nth(?:ains|i(?:ans|ns))))))\b/
  },
  {
    osis: ['Gal'],
    regexp: /\bG(?:l|a(?:l(?:a(?:t(?:ns|o(?:ans|ns)|i(?:n(?:s|a(?:s|ns))|i(?:[ao]ns|ns)|o(?:ans|s|n(?:s|[an]s))|a(?:s|[ia]ns|n(?:s|[ia]s)?))|a(?:s|ns|[ao]ns|i(?:ns|[ao]ns)))?)?|lati(?:[ao]ns|ns))?)?)\b/
  },
  {
    osis: ['Eph'],
    regexp: /\bE(?:hp(?:[ei]sians?)?|sphesians|p(?:e(?:sians|hesians)|h(?:isians?|s(?:ians?)?|e(?:s(?:ains?|i(?:ons|an[sd]?))?)?)?)?)\b/
  },
  {
    osis: ['Phil'],
    regexp: /\bPh(?:p|l(?:pp?|ip(?:p(?:ians)?|ians)?)|i(?:l(?:p(?:i(?:ans?|ns)|eans|p(?:pians|i(?:ans?|ians))?|a(?:ins|n))?|l(?:p(?:i(?:ans?|ens)|ans|pians?)|l(?:p(?:ians|pians)|ip(?:pians|i(?:ans?|ians)))|i(?:p(?:p(?:a(?:ns|ins)|i(?:ns|[ie]ans|a(?:ns?|ins))|pians|eans?)|eans?|a(?:i(?:ns?|ans)|ns?)|i(?:ns|e(?:ns|ans)|ians|a(?:ns?|[ia]ns)))?)?)|i(?:p(?:e(?:ans|ns)|p(?:pians?|i(?:ens|ians|ns?|a(?:ns?|[ia]ns))|eans?|a(?:i(?:ns|ans)|ns?))?|i(?:ans?|ns|ians|ens)|a(?:ns?|i(?:ns?|ans)))?)?)?)?)\b/
  },
  {
    osis: ['Col'],
    regexp: /\bC(?:al(?:[oa]s(?:si(?:[ao]ns|i[ao]ns))|l(?:asi[oa]ns|os(?:i[ao]ns|sians)))|o(?:l(?:l[oa]si(?:[ao]ns)|as(?:si[ao]ns|i[ao]ns)|os(?:i[ao]ns|s(?:i(?:ans?|ons)|ans)?))?)?)\b/
  },
  {
    osis: ['1Thess'],
    regexp: /\b(?:Thes(?:olonians?|elon(?:ains|ians?)|s(?:elon(?:ians?|ains)|oloni(?:ans?|ns)|al(?:on(?:o(?:ians|ans)|eans|ciens|i(?:ions|(?:[ao](?:ns?|ans))|ns|c(?:ans|i[ea]ns))|a(?:ns|i(?:ns?|ans)))|lonians))|al(?:oni(?:ans?|[ic]ans|ns|ons)|lonians))|1(?:st Th(?:s(?:ss?)?|es(?:elon(?:ians?|ains)|olonians?|al(?:oni(?:ans?|ons|ns|[ci]ans)|lonians)|s(?:s|elon(?:ians?|ains)|oloni(?:ans?|ns)|al(?:lonians|on(?:eans|o(?:ans|ians)|a(?:ns|i(?:ans|ns?))|ciens|i(?:ns|(?:[oa](?:ns?|ans))|c(?:i[ea]ns|ans)|ions|ens))))?)?)?| Th(?:s(?:ss?)?|es(?:elon(?:ians?|ains)|olonians?|al(?:oni(?:ans?|ons|ns|[ci]ans)|lonians)|s(?:s|elon(?:ians?|ains)|oloni(?:ans?|ns)|al(?:lonians|on(?:eans|o(?:ans|ians)|a(?:ns|i(?:ans|ns?))|ciens|i(?:ns|(?:[oa](?:ns?|ans))|c(?:i[ea]ns|ans)|ions|ens))))?)?)?)|I Th(?:s(?:ss?)?|es(?:elon(?:ians?|ains)|olonians?|al(?:oni(?:ans?|ons|ns|[ci]ans)|lonians)|s(?:s|elon(?:ians?|ains)|oloni(?:ans?|ns)|al(?:lonians|on(?:eans|o(?:ans|ians)|a(?:ns|i(?:ans|ns?))|ciens|i(?:ns|(?:[oa](?:ns?|ans))|c(?:i[ea]ns|ans)|ions|ens))))?)?)?|First Th(?:s(?:ss?)?|es(?:elon(?:ians?|ains)|olonians?|al(?:oni(?:ans?|ons|ns|[ci]ans)|lonians)|s(?:s|elon(?:ians?|ains)|oloni(?:ans?|ns)|al(?:lonians|on(?:eans|o(?:ans|ians)|a(?:ns|i(?:ans|ns?))|ciens|i(?:ns|(?:[oa](?:ns?|ans))|c(?:i[ea]ns|ans)|ions|ens))))?)?)?)\b/
  },
  {
    osis: ['2Thess'],
    regexp: /\b(?:2(?:nd Th(?:s(?:ss?)?|es(?:olonians?|elon(?:ians?|ains)|al(?:oni(?:ans?|[ic]ans|ns|ons)|lonians)|s(?:s|oloni(?:ns|ans?)|elon(?:ians?|ains)|al(?:lonians|on(?:eans|a(?:ns|i(?:ans|ns?))|ciens|o(?:ans|ians)|i(?:c(?:i[ea]ns|ans)|ions|(?:[ao](?:ns?|ans))|ns|ens))))?)?)?| Th(?:s(?:ss?)?|es(?:olonians?|elon(?:ians?|ains)|al(?:oni(?:ans?|[ic]ans|ns|ons)|lonians)|s(?:s|oloni(?:ns|ans?)|elon(?:ians?|ains)|al(?:lonians|on(?:eans|a(?:ns|i(?:ans|ns?))|ciens|o(?:ans|ians)|i(?:c(?:i[ea]ns|ans)|ions|(?:[ao](?:ns?|ans))|ns|ens))))?)?)?)|II Th(?:s(?:ss?)?|es(?:olonians?|elon(?:ians?|ains)|al(?:oni(?:ans?|[ic]ans|ns|ons)|lonians)|s(?:s|oloni(?:ns|ans?)|elon(?:ians?|ains)|al(?:lonians|on(?:eans|a(?:ns|i(?:ans|ns?))|ciens|o(?:ans|ians)|i(?:c(?:i[ea]ns|ans)|ions|(?:[ao](?:ns?|ans))|ns|ens))))?)?)?|Second Th(?:s(?:ss?)?|es(?:olonians?|elon(?:ians?|ains)|al(?:oni(?:ans?|[ic]ans|ns|ons)|lonians)|s(?:s|oloni(?:ns|ans?)|elon(?:ians?|ains)|al(?:lonians|on(?:eans|a(?:ns|i(?:ans|ns?))|ciens|o(?:ans|ians)|i(?:c(?:i[ea]ns|ans)|ions|(?:[ao](?:ns?|ans))|ns|ens))))?)?)?)\b/
  },
  {
    osis: ['1Tim'],
    regexp: /\b(?:1(?:st T(?:m|omothy|i(?:m(?:ot(?:y|hy?))?)?|himot(?:hy|y))| T(?:m|omothy|i(?:m(?:ot(?:y|hy?))?)?|himot(?:hy|y)))|I T(?:m|omothy|i(?:m(?:ot(?:y|hy?))?)?|himot(?:hy|y))|First T(?:m|omothy|i(?:m(?:ot(?:y|hy?))?)?|himot(?:hy|y))|Timothy?)\b/
  },
  {
    osis: ['2Tim'],
    regexp: /\b(?:2(?:nd T(?:m|i(?:m(?:ot(?:hy?|y))?)?|omothy|himot(?:hy|y))| T(?:m|i(?:m(?:ot(?:hy?|y))?)?|omothy|himot(?:hy|y)))|II T(?:m|i(?:m(?:ot(?:hy?|y))?)?|omothy|himot(?:hy|y))|Second T(?:m|i(?:m(?:ot(?:hy?|y))?)?|omothy|himot(?:hy|y)))\b/
  },
  {
    osis: ['Titus'],
    regexp: /\bTi(?:t(?:us)?)?\b/
  },
  {
    osis: ['Phlm'],
    regexp: /\bPh(?:mn?|ile(?:m(?:on)?)?|l(?:mn?|[ei]mon))\b/
  },
  {
    osis: ['Heb'],
    regexp: /\bH(?:brew(?:s|ws)|w(?:(?:[ew]brew(?:ws|s))|brew(?:s|ws))|e(?:(?:[ew]brew(?:s|ws))|b(?:w(?:ers|res)|r(?:w(?:s|es)|s|e(?:s|w(?:s|ws)?)|rws)|e(?:rws|w[rew]s))?))\b/
  },
  {
    osis: ['Jas'],
    regexp: /\bJ(?:ms?|a(?:s|m(?:es?)?)?)\b/
  },
  {
    osis: ['1Pet'],
    regexp: /\b(?:Peter|1(?:st P(?:tr?|e(?:r|t(?:er?|r)?)?)?| P(?:tr?|e(?:r|t(?:er?|r)?)?)?)|I P(?:tr?|e(?:r|t(?:er?|r)?)?)?|First P(?:tr?|e(?:r|t(?:er?|r)?)?)?)\b/
  },
  {
    osis: ['2Pet'],
    regexp: /\b(?:2(?:nd P(?:tr?|e(?:t(?:er?|r)?|r)?)?| P(?:tr?|e(?:t(?:er?|r)?|r)?)?)|II P(?:tr?|e(?:t(?:er?|r)?|r)?)?|Second P(?:tr?|e(?:t(?:er?|r)?|r)?)?)\b/
  },
  {
    osis: ['1John'],
    regexp: /\b(?:1(?:st J(?:h|o(?:n|hm|on)?)?| J(?:h|o(?:n|hm|on)?)?)|I J(?:h|o(?:n|hm|on)?)?|First J(?:n|h(?:n|[ho]n)?|phn|o(?:nh|h[nm]?|phn|on)?))\b/
  },
  {
    osis: ['2John'],
    regexp: /\b(?:2(?:nd J(?:h|o(?:n|on|hm)?)?| J(?:h|o(?:n|on|hm)?)?)|II J(?:h|o(?:n|on|hm)?)?|Second J(?:n|h(?:n|[ho]n)?|phn|o(?:nh|phn|on|h[nm]?)?))\b/
  },
  {
    osis: ['3John'],
    regexp: /\b(?:3(?:rd J(?:h|o(?:n|on|hm)?)?| J(?:h|o(?:n|on|hm)?)?)|III J(?:h|o(?:n|on|hm)?)?|Third J(?:n|h(?:n|[ho]n)?|phn|o(?:nh|phn|on|h[nm]?)?))\b/
  },
  {
    osis: ['Jude'],
    regexp: /\bJ(?:ude|de)\b/
  },
  {
    osis: ['Rev'],
    regexp: /\bR(?:v|e(?:v(?:[ao]lations?|lations?|el(?:ations?)?)?)?)\b/
  },
  {
    osis: ['Tob'],
    regexp: /\bT(?:b|ob(?:t|i(?:t|as)?)?)\b/
  },
  {
    osis: ['Jdt'],
    regexp: /\bJu?di?th?\b/
  },
  {
    osis: ['GkEsth'],
    regexp: /\b(?:Esther \(Greek\)|G(?:k Esth?|r(?:eek Est(?:h(?:er)?)?| Esth?)))\b/
  },
  {
    osis: ['Wis'],
    regexp: /\bW(?:is(?:d(?:om)?)?|sd)\b/
  },
  {
    osis: ['Sir'],
    regexp: /\b(?:Sir(?:ach)?|Ben Sira|Ecc(?:s|l(?:esiasticus|us(?:iasticus)?))|The Wisdom of Jesus(?:, Son of Sirach| (?:ben Sirach|Son of Sirach))|Wisdom of Jesus(?:, Son of Sirach| (?:ben Sirach|Son of Sirach)))\b/
  },
  {
    osis: ['Bar'],
    regexp: /\bB(?:r|ar(?:uch)?)\b/
  },
  {
    osis: ['PrAzar'],
    regexp: /\b(?:Azariah?|Pr(?:Az(?:r|ar)|ayer(?: of Azariah?|s of Azariah?)| of Azariah?)|The Pr(?: of Azariah?|ayer(?: of Azariah?|s of Azariah?)))\b/
  },
  {
    osis: ['Sus'],
    regexp: /\bS(?:us(?:annah?)?|hoshana)\b/
  },
  {
    osis: ['Bel'],
    regexp: /\bBel(?: (?:& (?:Dragon|S(?:nake|erpent)|the (?:Dragon|S(?:nake|erpent)))|and (?:S(?:erpent|nake)|the (?:Dragon|S(?:nake|erpent))|Dragon)))?\b/
  },
  {
    osis: ['SgThree'],
    regexp: /\b(?:The Song of (?:the (?:3 (?:Holy Children|You(?:ng Men|ths)|Jews)|Three (?:You(?:ng Men|ths)|Jews|Holy Children))|3 (?:Holy Children|Jews|You(?:ths|ng Men))|Three (?:Holy Children|Jews|You(?:ths|ng Men)))|S(?:ng Three|\. (?:3\. (?:Y|Ch)|Th(?:\. (?:Ch|Y)|ree\. (?:Ch|Y))|of (?:3\. (?:Y|Ch)|Th(?:\. (?:Y|Ch)|ree\. (?:Ch|Y))))|ong (?:Three|of (?:Three (?:Holy Children|You(?:ths|ng Men)|Jews)|3 (?:Holy Children|Jews|You(?:ths|ng Men))|the (?:Three (?:You(?:ng Men|ths)|Jews|Holy Children)|3 (?:Jews|You(?:ths|ng Men)|Holy Children))))|g Thr(?:ee)?))\b/
  },
  {
    osis: ['EpJer'],
    regexp: /\b(?:The (?:Ep(?:istle of Jeremiah|\. of Jeremiah)|Let(?:ter of Jeremiah|\. of Jeremiah))|Let(?:ter of Jeremiah|\. of Jeremiah)|Ep(?:\. of Jeremiah|istle of Jerem(?:iah|y)| Jer))\b/
  },
  {
    osis: ['1Macc'],
    regexp: /\b(?:Maccabees|1(?:st Mac(?:c(?:c(?:ab(?:b(?:be|e[es]?)|e(?:s|e[es]?)?))?|ab(?:e(?:s|e(?:s|es?)?)?|b(?:be[se]?|e(?:s|e[es]?)?)))?|ab(?:e(?:e(?:s|es?)?|s)?|b(?:be(?:s|e[se]?)?|e(?:s|e(?:s|es?)?)?)))?| M(?:c|a(?:c(?:c(?:c(?:ab(?:b(?:be|e[es]?)|e(?:s|e[es]?)?))?|ab(?:e(?:s|e(?:s|es?)?)?|b(?:be[se]?|e(?:s|e[es]?)?)))?|ab(?:e(?:e(?:s|es?)?|s)?|b(?:be(?:s|e[se]?)?|e(?:s|e(?:s|es?)?)?)))?)?))|I Mac(?:c(?:c(?:ab(?:b(?:be|e[es]?)|e(?:s|e[es]?)?))?|ab(?:e(?:s|e(?:s|es?)?)?|b(?:be[se]?|e(?:s|e[es]?)?)))?|ab(?:e(?:e(?:s|es?)?|s)?|b(?:be(?:s|e[se]?)?|e(?:s|e(?:s|es?)?)?)))?|First Mac(?:c(?:c(?:ab(?:b(?:be|e[es]?)|e(?:s|e[es]?)?))?|ab(?:e(?:s|e(?:s|es?)?)?|b(?:be[se]?|e(?:s|e[es]?)?)))?|ab(?:e(?:e(?:s|es?)?|s)?|b(?:be(?:s|e[se]?)?|e(?:s|e(?:s|es?)?)?)))?)\b/
  },
  {
    osis: ['2Macc'],
    regexp: /\b(?:2(?:nd Mac(?:ab(?:b(?:e(?:s|e(?:es?|s)?)?|be(?:s|e[es]?)?)|e(?:e(?:s|es?)?|s)?)|c(?:ab(?:e(?:e(?:s|es?)?|s)?|b(?:be[se]?|e(?:s|e[se]?)?))|c(?:ab(?:e(?:s|e[es]?)?|b(?:be|e[es]?)))?)?)?| M(?:c|a(?:c(?:ab(?:b(?:e(?:s|e(?:es?|s)?)?|be(?:s|e[es]?)?)|e(?:e(?:s|es?)?|s)?)|c(?:ab(?:e(?:e(?:s|es?)?|s)?|b(?:be[se]?|e(?:s|e[se]?)?))|c(?:ab(?:e(?:s|e[es]?)?|b(?:be|e[es]?)))?)?)?)?))|II Mac(?:ab(?:b(?:e(?:s|e(?:es?|s)?)?|be(?:s|e[es]?)?)|e(?:e(?:s|es?)?|s)?)|c(?:ab(?:e(?:e(?:s|es?)?|s)?|b(?:be[se]?|e(?:s|e[se]?)?))|c(?:ab(?:e(?:s|e[es]?)?|b(?:be|e[es]?)))?)?)?|Second Mac(?:ab(?:b(?:e(?:s|e(?:es?|s)?)?|be(?:s|e[es]?)?)|e(?:e(?:s|es?)?|s)?)|c(?:ab(?:e(?:e(?:s|es?)?|s)?|b(?:be[se]?|e(?:s|e[se]?)?))|c(?:ab(?:e(?:s|e[es]?)?|b(?:be|e[es]?)))?)?)?)\b/
  },
  {
    osis: ['3Macc'],
    regexp: /\b(?:3(?:rd Mac(?:ab(?:e(?:s|e(?:s|es?)?)?|b(?:be(?:s|e[se]?)?|e(?:s|e(?:es?|s)?)?))|c(?:c(?:ab(?:b(?:be|e[es]?)|e(?:s|e[se]?)?))?|ab(?:b(?:e(?:s|e[se]?)?|be[es]?)|e(?:s|e(?:s|es?)?)?))?)?| M(?:c|ac(?:ab(?:e(?:s|e(?:s|es?)?)?|b(?:be(?:s|e[se]?)?|e(?:s|e(?:es?|s)?)?))|c(?:c(?:ab(?:b(?:be|e[es]?)|e(?:s|e[se]?)?))?|ab(?:b(?:e(?:s|e[se]?)?|be[es]?)|e(?:s|e(?:s|es?)?)?))?)?))|III Mac(?:ab(?:e(?:s|e(?:s|es?)?)?|b(?:be(?:s|e[se]?)?|e(?:s|e(?:es?|s)?)?))|c(?:c(?:ab(?:b(?:be|e[es]?)|e(?:s|e[se]?)?))?|ab(?:b(?:e(?:s|e[se]?)?|be[es]?)|e(?:s|e(?:s|es?)?)?))?)?|Third Mac(?:ab(?:e(?:s|e(?:s|es?)?)?|b(?:be(?:s|e[se]?)?|e(?:s|e(?:es?|s)?)?))|c(?:c(?:ab(?:b(?:be|e[es]?)|e(?:s|e[se]?)?))?|ab(?:b(?:e(?:s|e[se]?)?|be[es]?)|e(?:s|e(?:s|es?)?)?))?)?)\b/
  },
  {
    osis: ['4Macc'],
    regexp: /\b(?:4(?:th Mac(?:ab(?:e(?:s|e(?:s|es?)?)?|b(?:e(?:s|e(?:s|es?)?)?|be(?:s|e[es]?)?))|c(?:c(?:ab(?:b(?:e[es]?|be)|e(?:s|e[es]?)?))?|ab(?:e(?:s|e(?:s|es?)?)?|b(?:be[es]?|e(?:s|e[es]?)?)))?)?| M(?:c|ac(?:ab(?:e(?:s|e(?:s|es?)?)?|b(?:e(?:s|e(?:s|es?)?)?|be(?:s|e[es]?)?))|c(?:c(?:ab(?:b(?:e[es]?|be)|e(?:s|e[es]?)?))?|ab(?:e(?:s|e(?:s|es?)?)?|b(?:be[es]?|e(?:s|e[es]?)?)))?)?))|IV Mac(?:ab(?:e(?:s|e(?:s|es?)?)?|b(?:e(?:s|e(?:s|es?)?)?|be(?:s|e[es]?)?))|c(?:c(?:ab(?:b(?:e[es]?|be)|e(?:s|e[es]?)?))?|ab(?:e(?:s|e(?:s|es?)?)?|b(?:be[es]?|e(?:s|e[es]?)?)))?)?|Fourth Mac(?:ab(?:e(?:s|e(?:s|es?)?)?|b(?:e(?:s|e(?:s|es?)?)?|be(?:s|e[es]?)?))|c(?:c(?:ab(?:b(?:e[es]?|be)|e(?:s|e[es]?)?))?|ab(?:e(?:s|e(?:s|es?)?)?|b(?:be[es]?|e(?:s|e[es]?)?)))?)?)\b/
  },
  {
    osis: ['1Esd'],
    regexp: /\b(?:1(?:st Esd(?:r(?:as)?)?| Esd(?:r(?:as)?)?)|I Esd(?:r(?:as)?)?|First Esd(?:r(?:as)?)?)\b/
  },
  {
    osis: ['2Esd'],
    regexp: /\b(?:2(?:nd Esd(?:r(?:as)?)?| Esd(?:r(?:as)?)?)|II Esd(?:r(?:as)?)?|Second Esd(?:r(?:as)?)?)\b/
  },
  {
    osis: ['PrMan'],
    regexp: /\b(?:The Pr(?: (?:of Manasseh|Manasseh)|ayer(?: (?:of Manasseh|Manasseh)|s (?:Manasseh|of Manasseh)))|Pr(?: (?:of Manasseh|Man(?:asseh)?)|ayer(?: (?:Manasseh|of Manasseh)|s (?:of Manasseh|Manasseh))))\b/
  },
  {
    osis: ['Ezek', 'Ezra'],
    regexp: /\bEz\b/
  },
  {
    osis: ['Hab', 'Hag'],
    regexp: /\bHa\b/
  },
  {
    osis: ['Heb', 'Hab'],
    regexp: /\bHb\b/
  },
  {
    osis: ['John', 'Jonah', 'Job', 'Josh', 'Joel'],
    regexp: /\bJo\b/
  },
  {
    osis: ['Jude', 'Judg'],
    regexp: /\bJud Jd Ju\b/
  },
  {
    osis: ['Matt', 'Mark', 'Mal'],
    regexp: /\bMa\b/
  },
  {
    osis: ['Phil', 'Phlm'],
    regexp: /\bPh\b/
  },
  {
    osis: ['Zeph', 'Zech'],
    regexp: /\bZe\b/
  }
]

const getBooksInContext = (html) => {
  const obj_arr = books
    .map(book => {
      if (book.regexp.test(html)) {
        const count = html.match(book.regexp).length - 1
        let last_index
        for (let i = 0; i < count; i++) {
          last_index = book.regexp.exec(html).index
        }
        return [{ osis: book.osis, last_index }]
      } else {
        return []
      }
    })
    .reduce((a, b) => a.concat(b))

  return sortBy(obj_arr, ['last_index'])
    .reduce((a, b) => a.concat(b.osis), [])
}

module.exports = { books, getBooksInContext }
